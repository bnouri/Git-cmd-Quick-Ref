%-------------------------------------------------------------------------------
% By: Behzad NOURI     ver.:18v01       Last Modified: 2018-10-20
%-------------------------------------------------------------------------------

%%---Page-Size:-----------------------------------------------------------------
\usepackage[letterpaper, left=1in,top=2cm,right=2cm,bottom=2cm]{geometry} 
\pdfpagewidth 8.5in
\pdfpageheight 11.0in
\brokenpenalty=10000

%%---TypeSetting Adjustments:---------------------------------------------------
\usepackage{setspace}
%\singlespacing 
%\onehalfspacing  
%\doublespacing 
\setstretch{1.2} % for custom spacing

%%---Margination/Page-Design:---------------------------------------------------
%\setlength{\oddsidemargin  }{.5in}
%\setlength{\textwidth      }{6.0in}
%\setlength{\marginparsep   }{.2in}
%\setlength{\marginparwidth }{1in}

%\setlength{\topmargin      }{-0.3in}
%\setlength{\headheight     }{0.25in} %%See the following Header-Def
%\setlength{\headsep        }{0.25in} %%See the following Header-Def
%\setlength{\textheight     }{8.6in}
%\setlength{\footskip}{.5in}

%\setlength{\parindent}{0pt}
%\setlength{\parskip}{10pt}

%%---More-Formattings:----------------------------------------------------------
\hyphenation{ex-em-pli-fies}
\makeindex

%%---Bibiliography:-------------------------------------------------------------
\bibliographystyle{IEEEtran}
\usepackage{cite}
\usepackage{comment,makeidx}

%5---Graphic:-------------------------------------------------------------------
\usepackage{ifpdf} 
\ifpdf   %Latex=>pdf/DVI
\usepackage[pdftex]{graphicx}  	 
\usepackage{epstopdf}
\DeclareGraphicsExtensions{.pdf,.jpeg,.jpg,.png,.gif, .eps, .ps}
\else  %Latex=>ps:
\usepackage[dvips]{graphicx}
\DeclareGraphicsExtensions{.eps, .ps}
\fi
\graphicspath{{Figs/}{Photos/}{F/}} 
%\usepackage{transparent}
\usepackage{wrapfig}   %put text beside the figure
\usepackage{color}

%%---Subfigure-Packages:--------------------------------------------------------
\usepackage{float,rotating} %for image placement
\usepackage[tight,footnotesize]{subfigure}
%% Or as another alternative:
%\usepackage[caption=false]{caption}
%\usepackage[font=footnotesize]{subfig}
%\usepackage[caption=false,font=footnotesize]{subfig}

%%---Table-Packages:------------------------------------------------------------
\usepackage{booktabs,longtable,array,mdwtab,multirow}

%%---Math:----------------------------------------------------------------------
\usepackage[cmex10]{amsmath}
\interdisplaylinepenalty=2500
\usepackage{amssymb, amscd, latexsym, amsthm, cases, mdwmath}
\usepackage{amsfonts, mathrsfs}    %math fonts
\usepackage{relsize} %\mathlarger

%%---Format-of-Eq#:
%\renewcommand{\theequation}{\arabic{equation}} % show eq# as (eq)
%\renewcommand{\theequation}{\arabic{section}.\arabic{equation}}  %show eq# as (sec.eq)
%%----Eq# for the book:
%\def\theequation{%
%  \@ifundefined{@book}{\thechapter.\arabic{equation}}{\@arabic\c@equation} }%


%%---Theorem Environment:-------------------------------------------------------
\theoremstyle{plain} %makes theorem's body italic
%\newtheorem{theorem}{Theorem}%[section]
\newtheorem{theorem}{Theorem}%[chapter]
\newtheorem{lemma}{Lemma}%[theorem]
\newtheorem{corollary}{Corollary}%[theorem]
\newtheorem{proposition} {Proposition}%[chapter]
\newtheorem{conjecture}{Conjecture}%[chapter]
\theoremstyle{definition}  %makes theorem's body roman
%\newtheorem{def}{Definition} %[section] %[chapter] %[thm] %[def]
\newtheorem{definition}{Definition}%[chapter]
\newtheorem{condition}{Condition}%[chapter]
\newtheorem{problem}{Problem}%[chapter]
\newtheorem{example}{Example}%[chapter] 
\theoremstyle{remark} %makes theorem's body non-italic
%\newtheorem{rem}{Remark}[section] %[chapter] %[thm] %[def] %[rem]
\newtheorem{remark}{Remark}%[chapter]
\newtheorem{question}{Question}%[chapter]
\newtheorem{claim}{Claim}%[chapter]
\newtheorem{fact}{Fact}%[chapter]
\newtheorem{case}{Case}%[chapter]
\newtheorem{note}{Note}%[chapter]            
%\newtheorem*{note}{Note}            %*=no numbering
\newtheorem*{mynotation}{Notation}  %*=no numbering
\newtheorem*{summary}{Summary}      %*=no numbering
\newtheorem*{conclusion}{Conclusion}%*=no numbering
\newtheorem*{acknowledgment}{Acknowledgment} %*=no numbering

%%---Help: End-of-Proof char.:--------------------------------------------------
%1-'amsthm': begin{proof}...end{proof} adds '\qedhere' at end of proof.
%2- using '\qed' adds end of proof chracter!  
% The default end-of-proof chracter is a 'hollow-square' to change it to a 'blach solid-square' this is added:
\renewcommand{\qedsymbol}{$\blacksquare$} %Adding this gives a ``blach 

%%---Hyperlink Properties:------------------------------------------------------
%%\usepackage{url}  
%%%The url package doesn't create hyperlinks, only hyperref does!
\usepackage[pdftex,plainpages=true,pagebackref=true,breaklinks]{hyperref}
%\usepackage{hyperref}
\hypersetup{
    colorlinks=true,      % false: boxed links; true: colored links
    linkcolor=blue,       % color of internal links (change box color with      
                          % linkbordercolor)
	citecolor=blue,       % color of links to bibliography, eg green
    filecolor=magenta,    % color of file links   
    urlcolor=blue,        % color of external links
}
%e.g.:
%\url{http://www.wikibooks.org}
%\href{http://www.wikibooks.org}{Wikibooks home}
%\href{mailto:bn@ieee.org}{bn(at)ieee(dot)org}
%\href{run:/path/to/my/file.ext}{text displayed} :to local file

%\hyperref[label_name]{''link text''}
%We use \hyperref[mainlemma]{lemma \ref*{mainlemma} }.

%-------------------------------------------------------------------------------
% Customizing Enumerated/Itemized Lists:
%-------------------------------------------------------------------------------
%  Latex allows the creation of enumerated (ordered) lists up to four deep. The 
%  numbering styles for each depth can be styled to suit your needs using the 
%  \renewcommand{label}{style} command, where label is the list depth being styled 
%  and style is how you want that number to be shown.
%
%  label may be any of the following:
%  \labelenumi    : first level
%  \labelenumii   : second level
%  \labelenumiii  : third level
%  \labelenumiv   : fourth level
%  style may be any combination of characters and numbers. The item number for each 
%  list may be printed using:   enumi,  enumii, enumiii, enumiv
%
%  These numbers may be styled with the following macros:
%  \alph{number}    : lowercase letters  a
%  \Alph{number}    : uppercase letters  A
%  \arabic{number}  : numbers  1
%  \roman{number}   : lowercase roman numerals    iv
%  \Roman{number}   : uppercase roman numerals    IV
%-------------------------------------------------------------------------------
\usepackage{enumerate,enumitem}

% \arabic{}. => 1. / (\Alph{}) => (A) /  \alph{}) => a)
\renewcommand{\labelenumi}{\textbf{(\arabic{enumi}){  }}}      %=>(A)
\renewcommand{\labelenumii}{\textbf{(\alph{enumii}){  }}}      %=>(a)
\renewcommand{\labelenumiii}{\textbf{(\roman{enumiii}).{  }}}  %=>      (i)
\renewcommand{\labelenumiv}{\textbf{\arabic{enumiv}.{  }}}    %=>         (1)

\newenvironment{packed_enumerate}{
\begin{enumerate}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{-3pt}
  \setlength{\parsep}{0pt}
}{\end{enumerate}}
\newenvironment{packed_itemize}{
\begin{itemize}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{-3pt}
  \setlength{\parsep}{0pt}
}{\end{itemize}}

%%---help:
%\begin{enumerate}[noitemsep]   \item   \end{enumerate}
%\begin{description}[noitemsep] \item   \end{description}

%%---FOOTNOTEing:---------------------------------------------------------------% To make a footnote without number mark use this declaration:
%\let\thefootnote\relax\footnote{There is no number in this footnote}

% Every-Page:
%\usepackage{perpage}   %Perpage package
%\MakePerPage{footnote} %Perpage package command

%\renewcommand{\thefootnote}{\arabic{footnote}}	%Arabic numerals: 1, 2, 3...
%\renewcommand{\thefootnote}{\roman{footnote}}	%Roman: i, ii, iii...
%\renewcommand{\thefootnote}{\Roman{footnote}}  %Roman: I, II, III...
%\renewcommand{\thefootnote}{\alph{footnote}}	%Alphabetic: a, b, c...
%\renewcommand{\thefootnote}{\Alph{footnote}}   %Alphabetic: A, B, C...

%\renewcommand{\thefootnote}{\fnsymbol{footnote}}	%A sequence of nine symbols (try it and see!)

%%---Float Package:-------------------------------------------------------------
%%\usepackage{fixltx2e}   %not need for latex after 2015
%Do not attempt to use stfloats with fixltx2e as they are incompatible 
%dblfloatfix combines the features of both fixltx2e and stfloats.
%\usepackage{dblfloatfix}
\usepackage{stfloats}
\long\def\symbolfootnote[#1]#2{\begingroup%
	\def\thefootnote{\fnsymbol{footnote}}\footnote[#1]{#2}\endgroup}					
\setlength{\parskip}{4pt}   
\makeatletter
\def\@IEEEpubidpullup{1.3\baselineskip}
\makeatother

%%---Language-Packages:---------------------------------------------------------
\usepackage[english]{babel}
{\catcode`"=13 \gdef"#1{\ifx#1"\discretionary{}{}{}\fi\relax}}
\def\mdqon{\catcode`"=13\relax}
\def\mdqoff{\catcode`"=12\relax}

%%---Enhanced Fonts/Symbols:----------------------------------------------------
\usepackage[normalem]{ulem}
\usepackage{pifont, marvosym, textcomp, upgreek, upquote}
%%\usepackage{ae}       %=>'ae' Has a conflict with mcode.sty
%%\usepackage{aecompl}  %=>To use bitmap versions of the characters missing in the ae fonts  
\usepackage[T1]{fontenc}  
\usepackage{fancyvrb}  %\VerbatimInput
\usepackage{pbsi}      %for{\normalfont\bsifamily yourtext}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage{soul}

% *** Font for whole Doc ***
\renewcommand{\rmdefault}{ptm}  %change from CM Roman to Times
\usepackage{microtype} %<-Improves the spacing between words and letters

%%---Algorithm:-----------------------------------------------------------------
%These two package:
\usepackage{algorithm}
\usepackage{algorithmic} %<=IEEE sugessted
%Or the following two:
%\usepackage[ruled,vlined]{algorithm2e}
%\usepackage{algorithmicx}

%%---FlowChart:-----------------------------------------------------------------
%\usepackage{pstricks}
\usepackage{pst-node, pst-3d}
\usepackage{pst-blur}
%\definecolor{Pink}{rgb}{1,0.75,0.8}
%\definecolor{Gray}{rgb}{0.85,0.85,0.85}

%% Define a Paralellogram shape:
\makeatletter
\newsavebox\TBox
\newcommand\psParaBox[2][]{{
  \psset{framesep=3pt,gangle=60,#1}%
  \sbox\TBox{\psTilt{\psk@gangle}{\psframebox{\phantom{ #2}}}}%
  \usebox\TBox%  
  \rput(-0.5\wd\TBox,\dimexpr 0.5\ht\TBox-1ex\relax){ #2}}}
\makeatother

%%---Tikz Pakage:---------------------------------------------------------------
%\usepackage{tikz}   %NOTE:``tikz'' confilicts with ``pst-node''/''pst-blur''

%%---Boxing/Framing-------------------------------------------------------------
\usepackage{tcolorbox}   %Put a text+math in a colored box (framed)

%%---Inhancement:---------------------------------------------------------------
\usepackage{siunitx}
\RequirePackage[l2tabu, orthodox]{nag}
\usepackage{pdfpages}  %To include a complete PDF/Pages

%%---Programming:-Matlab--------------------------------------------------------
%\usepackage[numbered,framed,autolinebreaks,useliterate]{!sty/mcode}  
\usepackage[autolinebreaks,useliterate]{!sty/mcode} 

%%---Customizations:------------------------------------------------------------
\usepackage{lipsum} %To add bla-bla
\newcommand{\subsubsubsection}[1]{\paragraph{#1} {\hfill \newline \noindent}} 

%%---WaterMark:----------------
%\usepackage{draftwatermark}
%\SetWatermarkLightness{0.9}
%\SetWatermarkScale{5}

%\definecolor{lightgreen}{rgb}{0.5,1,0.34}
%\sethlcolor{lightgreen}
%The default color for highlighting using hl{xxx} is yellow

%------------------------------------
\newlength{\toppush}
\setlength{\toppush}{2\headheight}
\addtolength{\toppush}{\headsep}

%%---Header-Footer:-------------------------------------------------------------
\usepackage{fancyhdr, lastpage}
\pagestyle{fancy}
\setlength{\topskip   }{10pt} %header to the top of paper
\setlength{\headheight}{30pt} %height of the header
\setlength{\headsep   }{5pt}  %header to the first line
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{1pt}
\fancyhead[L]{\HdrL}  \fancyhead[C]{\HdrC}  \fancyhead[R]{\HdrR}
\fancyfoot[L]{\FtrL}  \fancyfoot[C]{\FtrC}  \fancyfoot[R]{\FtrR}


%Hdr1: my Tech-Rep
\newcommand{\HdrR}{{\normalfont {\thepage~/~\pageref{LastPage}}}}
%\newcommand{\HdrR}{{\normalfont\bsifamily {Date:~~}\underline{~~\today~~}}}

%Ftr2:
%\newcommand{\FtrL}{\small \today}
\newcommand{\FtrL}{}
\newcommand{\FtrC}{}
\newcommand{\FtrR}{} 
%\newcommand{\FtrR}{{\tiny \LaTeXe~(\version)-\today}} 

%-------------------------------------------------------------------------------
% Title of the document: 
%    \htitleCU{title of the DOC in the middle}{Updated: xxx. xx, xxxx}
%-------------------------------------------------------------------------------
\newif\ifisCUtitle
%\isCUtitlefalse ---or--- \isCUtitletrue
%\newcommand{\BotL}{}
\newcommand{\htitle}[2]{%
	\thispagestyle{empty}
	\begin{singlespace}
		\centering
		\noindent\vspace*{-0.75\toppush}\newline\parbox{6.5in}\par
		\ifisCUtitle
		\mbox{\noindent \rule{0.46\linewidth}{1pt}\hspace{0.08\linewidth}\rule{0.46\linewidth}{1pt}}\\[-16pt]
		\includegraphics[trim=0in 0in 0in 0in, , clip=true, keepaspectratio=true, scale=0.05]{!Hdr/!Logo/CU-logo}\\[-16pt]
		\TopL \hfill \TopR\\[6pt]
		\else
		\noindent \rule{\linewidth}{1pt}
		\TopL
		\fi
		\textbf{\midl}\\[4pt]
		{\BotR \hfill #2}\\[-8pt]
		%{\BotL \hfill \BotR}\\[-4pt]
		\mbox{}\noindent \rule{\linewidth}{1pt}\\[-12pt]
		\begin{center}\textbf{\large #1}\end{center}
	\end{singlespace}
	%\vspace*{-0.1\toppush}
}%\htitle
%----
%%\else
%%%----
%%%\newcommand{\BotL}{}
%%\newcommand{\htitle}[2]{%
%%\thispagestyle{empty}
%%\begin{singlespace}
%%\centering
%%\noindent \rule{\linewidth}{1pt}
%%\textbf{\large \LineA}\\[4pt]
%%\LineB\\[4pt]
%%\LineC\\[4pt]
%%{#2}\\[-8pt]
%%\mbox{}\noindent \rule{\linewidth}{1pt}\\[-12pt]
%%\begin{center}\textbf{\large #1}\end{center}
%%\end{singlespace}
%%\vspace*{-0.4\toppush}}
%%\fi

\endinput   %<-LaTeX will ignore anything after this line.
%%---END-of-file----------------------------------------------------------------
